<!-- guesses -->
<!-- Players has chosen the murderer and here are the guesses -->

<!doctype html>
<html lang="en">
    <head>
        <title>Vega Clues LLC</title>
        
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />          
        
        <link rel='shortcut icon' type='image/x-icon' href='/assets/images/favicon.ico' />
                
      	<!-- Opera Speed Dial Favicon -->
        <link rel="icon" type="image/png" href="/assets/images/android-chrome-512x512.png" />
      
      	<!-- For iPhone 4 Retina display: -->
        <link rel="apple-touch-icon-precomposed" sizes="114x114" href="/assets/images/apple-touch-icon-114x114-precomposed.png"/>
      
      	<!-- For iPad: -->
        <link rel="apple-touch-icon-precomposed" sizes="72x72" href="/assets/images/apple-touch-icon-72x72-precomposed.png"/>
      
      	<!-- For iPhone: -->
        <link rel="apple-touch-icon-precomposed" href="/assets/images/apple-touch-icon-57x57-precomposed.png"/>       
                                
        <link rel="stylesheet" type="text/css" href="/assets/css/style.css" />                  
        <link rel="stylesheet" type="text/css" href="/webjars/bootstrap/3.3.7/css/bootstrap.min.css" />
        
		<script type="text/javascript" src="/webjars/jquery/3.1.1-1/jquery.min.js"></script>
        <script type="text/javascript" src="/webjars/bootstrap/3.3.7/js/bootstrap.min.js"></script>

        <script src="/assets/js/typed.js" type="text/javascript"></script>
        
        <script src="/assets/js/jquery-ui.js" type="text/javascript"></script>
        
        <script>
          (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
          (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
          })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
        
          ga('create', 'UA-101505063-1', 'auto');
          ga('send', 'pageview');
        
        </script>

<style>
.is-holly-harrison-2 {
	margin: 5px 0 0 0px;
}

.character_layer {
    left: 50%;
    position: absolute;
    top: 64px;
    width: 375px;
    margin-left: -187.5px;
}

.character-4 {
    margin-left: 20px;
</style>


<script th:inline="javascript">
/*<![CDATA[*/

    var gameId = [[${story == null ? '' : game.id}]];
    
    if(gameId != null) {
        storyId = [[${game == null ? '' : game.storyId}]];
    }

    console.log(gameId);
    
    var listsize = [[${#lists.size(players)}]];
    
    console.log('listsize: ' + listsize);

    /*]]>*/
</script>

<script>
$( document ).ready(function() {
        console.log( "ready!" );

        $(function() {

                $('.character').bind('touchstart', function(e) {
                        $('.description').show();
                });

                /*
                $('.character').bind('touchend', function(e) {
                        $('.description').hide();
                });

                        $('.character').on('hover',function(){
                        $('.description').show();
                });
                        */
        });


                $('.character').on('click',function(){
                                console.log('test');
                        //$('.description').show();
                                setTimeout($('.description').show(), 5 * 60000); // Recall
        });
        
                /*
        $('.description').on('click', function() {
                $('.description').hide();
        });
                */
});

function closeDescription() {
        $('.description').hide();
}

function prev() {
        console.log('called prev');
        var prev = parseInt($('#current').val());
        var current = parseInt($('#current').val());
        console.log('before prev ' + prev + ' current ' + current);
        
        if(prev == 1) {
                $('#current').val(1);
        }
        else {
                prev--;
                console.log(prev);
                $('#current').val(prev);
        }
        
        console.log('after prev ' + prev + ' current ' + current);
        
        $('#'+current).hide();
        $('#'+prev).show();
}

function next() {
        console.log('called next');
        var next = parseInt($('#current').val());
        var current = parseInt($('#current').val());
        var listsize = parseInt($('#listsize').val());
        
        console.log('before next ' + next + ' current ' + current);
        
        if(next == listsize) {
                $('#current').val(listsize);
        }
        else {
                next++;
                console.log(next);
                $('#current').val(next);
        }
        
        console.log('after next ' + next + ' current ' + current);
        
        $('#'+current).hide();
        $('#'+next).show();
}

</script>

</head>
<body>
 <div class="global_container_" >
   <div class="content" >
    <div class="character_layer" >
        <a href="/game/all" class="btn_close"><img src="/assets/images/btn_close.png" alt="" width="55" height="55"/></a>
        
        <div class="left_right-3 group" style="z-index: 1004;">
                <a href="javascript: prev();" class="left-6"><img src="/assets/images/left_4.png" alt="" width="38" height="57"/></a>
                <a href="javascript: next();" class="right-6"><img src="/assets/images/right_4.png" alt="" width="38" height="57"/></a>
        </div>
                
                <input type="hidden" id="current" value="1" />
        <input type="hidden" id="listsize" th:value="${#lists.size(players)}" /> 

                <div class="curtain-holder" >
                <span th:each="c,iterStat : ${players}" th:class="${iterStat.odd}? 'odd'">

                        <!-- Player Cast is null -->
        
                <span th:id="${iterStat.count}" th:style="${iterStat.count} > 1 ? 'display: none;' : ''">
                        <span th:if="${c.murdererId == null}">
                                <!--  no image to show -->

                                <!--  no popup -->
                                <div class="tag" style="z-index: 1005;">
                                                Description
                                        </div>
                                        <img class="curtain_plate" src="/assets/images/curtain_plate.png" alt="" width="206" height="124"/>
                                        
                                <div class="murder_select_layer">
                                       <div class="text_after_character_selection-2">
                                        <h1 class="character-4">Guesses</h1>
                                        <h2 class="email-tag">
                                                 No Guess
                                                 <br/>
                                                 <span th:text="${c.name}"></span>
                                        </h2>
                                        <h2 class="is-holly-harrison-2"></h2>        
                                       </div>
                                       
                                       <div class="wrapper-15">
                                                 <div style="text-align:center; color:white; font-size:14px;padding:70px;"><span th:text="${c.name} + ' has not guessed the murderer yet!'"></span></div>
                                       </div> 
                        </div>                          
                        </span>
                <span th:if="${c.murdererId != null}">
                        
                        <img class="character" th:src="${c.guess.image}" alt="" width="283" height="289"/>

                                <div class="tag" style="z-index: 1005;">
                                                <a href="javascript: return false;" data-toggle="modal" th:attr="data-target='#modal_description_'+${c.id}">Description</a>
                                </div>

                                <img class="curtain_plate" src="/assets/images/curtain_plate.png" alt="" width="206" height="124"/>

                        <div class="murder_select_layer">
                               <div class="text_after_character_selection-2">
                                <h1 class="character-4">Guesses</h1>
                                <h2 class="email-tag">
                                         <span th:text="${c.name}"></span> thinks
                                </h2>
                                <h2 class="is-holly-harrison-2"><span th:text="${c.guess.name}"></span> dunit</h2>        
                               </div>
                               <div class="wrapper-15">

                                <img class="murderer_icon" src="/assets/images/murderer_icon.png" alt="" width="57" height="58"/>
                                <img class="dagger" src="/assets/images/dagger.png" alt="" width="255" height="282"/>
                        </div>
       
                                        <!-- Modal -->
                                        <div th:id="'modal_description_' + ${c.id}" class="modal fade " role="dialog"  style="heigth:200px;text-align:center;">
                                                <div class="modal-dialog">
                                                <!-- Modal content-->
                                                <div class="modal-body">
                                                        <div class="description_popup">
                                                                <a href="#" data-dismiss="modal" class="btn_close"><img src="/assets/images/btn_close.png" alt="" width="55" height="55"/></a>
                                        <p class="description_popup_text pre-scrollable" th:utext="${c.guess.description}"></p>
                                    </div> 
                                                </div>
                                         </div>
                                </div>
                        </div>
                </span>
        </span>
     </span>
     </div>
    </div>
   </div>
  </div>

</body>

</html>
    